// Generated by CoffeeScript 1.6.1
var Ball,DemoState,game,__hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);r.prototype=t.prototype;e.prototype=new r;e.__super__=t.prototype;return e};game=D.Game.get({title:"Chain Reaction Game v1.0",container:document.querySelector("#game")});Ball=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}__extends(t,e);t.prototype.init=function(){t.__super__.init.call(this,30,30,30,30);this.dx=1.5;this.dy=2.5;this.radius=30;this.color="#ff0000";return this};t.prototype.update=function(e){var t,n;n=e.width;t=e.height;if(this.x+this.dx+this.radius>n||this.x+this.dx-this.radius<0)this.dx=-this.dx;if(this.y+this.dy+this.radius>t||this.y+this.dy-this.radius<0)this.dy=-this.dy;this.x+=this.dx;return this.y+=this.dy};t.prototype.handleClick=function(e,t){return this.color==="#ff0000"?this.color="#00ff00":this.color="#ff0000"};return t}(D.Circle);DemoState=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}__extends(t,e);t.prototype.init=function(){var e=this;return 100..times(function(){var t,n,r;t=new Ball;t.init();t.radius=20;t.x=D.Util.randomInt(t.radius,600-t.radius);t.y=D.Util.randomInt(t.radius,400-t.radius);n=D.Util.randomInt(0,1)===1?1:-1;r=D.Util.randomInt(0,1)===1?1:-1;t.dx=D.Util.randomInt(5,20)/10*n;t.dy=D.Util.randomInt(5,20)/10*r;t.color=D.Color.randomHexString();return e.entities.push(t)})};t.prototype.update=function(e){return t.__super__.update.call(this,e)};t.prototype.render=function(e){var n;t.__super__.render.call(this,e);n=e.bufferContext;n.fillStyle="#fff";n.font="14px Verdana";return n.fillText(e.fps.toFixed(0),10,20)};return t}(D.GameState);game.changeState(DemoState.get());game.run();